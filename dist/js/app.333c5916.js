(function(){var e={8737:function(e,t,n){"use strict";n.d(t,{QY:function(){return B},O3:function(){return V},_M:function(){return y},Jn:function(){return N},jc:function(){return v},B0:function(){return k},l:function(){return w},G_:function(){return C},GB:function(){return b},kG:function(){return S}});var r=n(6265),o=n.n(r);const i=o().create({baseURL:"http://cloud-music.pl-fe.cn/",withCredentials:!0});var a=i;const c=e=>a({url:"/personalized",params:e}),s=e=>a({url:"/personalized/newsong",params:e}),l=e=>a({url:"/playlist/detail/dynamic",params:e}),u=()=>a({url:"/search/default"}),d=()=>a({url:"/search/hot"}),m=e=>a({url:"/search",params:e}),p=e=>a({url:"/search/suggest",params:e}),f=e=>a({url:"/song/detail",params:e}),h=e=>a({url:"/lyric",params:e}),g=e=>a({url:"/playlist/track/all",params:e}),v=c,y=s,k=u,w=d,C=m,S=f,N=l,b=p,V=h,B=g},5200:function(e,t,n){"use strict";var r=n(168),o=(n(4165),n(3)),i=(n(6171),n(311));const a={class:"min-song-bg-wrap"},c={class:"min-song-wrap"},s={class:"min-song-turn"},l={class:"min-song-title-wrap"},u={class:"min-song-title"};function d(e,t,n,d,m,p){const f=o.E,h=r.J;return(0,i.openBlock)(),(0,i.createElementBlock)("div",{onClick:t[0]||(t[0]=function(){return p.toFullScreen&&p.toFullScreen(...arguments)})},[(0,i.createElementVNode)("div",a,[(0,i.createVNode)(f,{class:"min-song-bg",src:p.songInfo.picUrl,fit:"none"},null,8,["src"])]),(0,i.createElementVNode)("div",c,[(0,i.createElementVNode)("div",s,[(0,i.createVNode)(f,{class:"min-song-image",src:p.songInfo.picUrl,width:"1.28rem",height:"1.28rem",round:""},null,8,["src"])]),(0,i.createElementVNode)("div",l,[(0,i.createElementVNode)("span",u,(0,i.toDisplayString)(p.songInfo.name+" - "+p.songInfo.author),1)]),(0,i.createVNode)(h,{class:"mini-player-btn",size:"1rem",name:p.isPlaying?"pause-circle-o":"play-circle-o",onClick:(0,i.withModifiers)(p.audioStateChange,["stop"])},null,8,["name","onClick"])])])}var m={computed:{songInfo(){return this.$store.state.currentSongInfo},isPlaying(){return this.$store.state.isPlaying},firstCount(){return this.$store.state.firstCount}},methods:{toFullScreen(){this.firstCount&&(vant.Toast.loading({message:"加载中...",forbidClick:!0,duration:500}),this.$store.commit("setFirstCount",0)),this.$store.commit("setFullScreen",!0),this.$router.push("/fullscreenplay")},audioStateChange(){const e=document.querySelector("#audio");this.isPlaying?e.pause():e.play(),this.$store.commit("setPlayingState",!this.isPlaying)}}},p=n(7477);const f=(0,p.Z)(m,[["render",d]]);var h=f;const g={class:"mini-placeholder"},v={class:"audio-wrap"},y=["src"];function k(e,t,n,r,o,a){const c=(0,i.resolveComponent)("router-view"),s=h;return(0,i.openBlock)(),(0,i.createElementBlock)(i.Fragment,null,[(0,i.createVNode)(c,{style:{padding:"1.23rem 0"}}),a.currentId&&!a.fullScreen?((0,i.openBlock)(),(0,i.createElementBlock)("div",{key:0,class:"mini-player",style:(0,i.normalizeStyle)({bottom:this.$route.meta.title?"1.33rem":"0.13rem"})},[((0,i.openBlock)(),(0,i.createBlock)(i.KeepAlive,null,[(0,i.createVNode)(s)],1024))],4)):(0,i.createCommentVNode)("",!0),(0,i.withDirectives)((0,i.createElementVNode)("div",g,null,512),[[i.vShow,a.currentId&&!a.fullScreen]]),(0,i.createElementVNode)("div",v,[a.currentId?((0,i.openBlock)(),(0,i.createElementBlock)("audio",{key:0,id:"audio",ref:"audio",preload:"auto",loop:"",src:a.songUrl},null,8,y)):(0,i.createCommentVNode)("",!0)])],64)}var w={components:{MiniPlayer:h},computed:{currentId(){return this.$store.state.currentId},fullScreen(){return this.$store.state.fullScreen},songUrl(){return this.$store.getters.songUrl}}};const C=(0,p.Z)(w,[["render",k]]);var S=C,N=n(5258),b=(n(8386),n(4521)),V=(n(5086),n(9420));n(2097);function B(e,t,n,o,a,c){const s=r.J,l=V.l,u=(0,i.resolveComponent)("router-view"),d=b.Q,m=N.E;return(0,i.openBlock)(),(0,i.createElementBlock)("div",null,[(0,i.createVNode)(l,{fixed:"","z-index":"10"},{left:(0,i.withCtx)((()=>[a.showBackArrow?((0,i.openBlock)(),(0,i.createBlock)(s,{key:0,name:"arrow-left",size:"0.48rem",class:"left-incon",color:"#8648D3",onClick:t[0]||(t[0]=t=>e.$router.push("/"))})):(0,i.createCommentVNode)("",!0)])),title:(0,i.withCtx)((()=>[(0,i.createVNode)(s,{name:a.activeIcon,color:"#8648D3",size:"0.5rem"},null,8,["name"]),(0,i.createTextVNode)(" "+(0,i.toDisplayString)(a.activeTitle),1)])),_:1}),(0,i.createVNode)(u,null,{default:(0,i.withCtx)((e=>{let{Component:t}=e;return[(0,i.createVNode)(i.Transition,{name:"fade",mode:"out-in"},{default:(0,i.withCtx)((()=>[((0,i.openBlock)(),(0,i.createBlock)(i.KeepAlive,null,[((0,i.openBlock)(),(0,i.createBlock)((0,i.resolveDynamicComponent)(t)))],1024))])),_:2},1024)]})),_:1}),(0,i.createVNode)(m,{route:"","active-color":"#8648D3",fixed:""},{default:(0,i.withCtx)((()=>[(0,i.createVNode)(d,{replace:"",to:"/layout/home",icon:"music-o"},{default:(0,i.withCtx)((()=>[(0,i.createTextVNode)(" 首页 ")])),_:1}),(0,i.createVNode)(d,{replace:"",to:"/layout/search",icon:"search",onClick:c.loadOnce},{default:(0,i.withCtx)((()=>[(0,i.createTextVNode)(" 搜索 ")])),_:1},8,["onClick"])])),_:1})])}var E={data(){return{activeTitle:this.$route.meta.title,activeIcon:this.$route.meta.icon,showBackArrow:this.$route.meta.showBackArrow,loadCount:1}},name:"layout-view",watch:{$route(){this.activeTitle=this.$route.meta.title,this.activeIcon=this.$route.meta.icon,this.showBackArrow=this.$route.meta.showBackArrow}},methods:{loadOnce(){this.loadCount&&(vant.Toast.loading({message:"加载中...",forbidClick:!0,duration:500}),this.loadCount--)}}};const I=(0,p.Z)(E,[["render",B]]);var x=I,$=n(4250),P=n(3805),D=(n(3081),n(6056)),_=(n(9247),n(3875));n(4908);function L(e,t,n,o,a,c){const s=r.J,l=_.V;return(0,i.openBlock)(),(0,i.createBlock)(l,{class:"viewed-tag",color:"#DEDBDB","text-color":"#fff",round:""},{default:(0,i.withCtx)((()=>[(0,i.createVNode)(s,{name:"play",class:"icon"}),(0,i.createTextVNode)((0,i.toDisplayString)(a.views),1)])),_:1})}var T=n(8737),O={data(){return{views:0,unit:""}},props:{id:Number},async created(){const e=await(0,T.Jn)({id:this.id});e.data.playCount>=1e8?this.views=(e.data.playCount/1e8).toFixed(1)+"亿":this.views=(e.data.playCount/1e4).toFixed(1)+"万"}};const U=(0,p.Z)(O,[["render",L]]);var A=U,F=n(2229);n(8228);const z={class:"title"},j={class:"van-multi-ellipsis--l2 song-name"},M={class:"title"};function J(e,t,n,a,c,s){const l=r.J,u=F.g,d=o.E,m=A,p=D.X,f=P.J,h=$.Z;return(0,i.openBlock)(),(0,i.createElementBlock)("div",null,[(0,i.createElementVNode)("p",z,[(0,i.createVNode)(l,{color:"#8648D3",name:"fire-o"}),(0,i.createTextVNode)(" 大家都在听 ")]),(0,i.withDirectives)((0,i.createVNode)(u,{class:"van-loading",type:"spinner",vertical:""},{default:(0,i.withCtx)((()=>[(0,i.createTextVNode)("加载中... ")])),_:1},512),[[i.vShow,0===this.recommendList.length]]),(0,i.createVNode)(f,{class:"van-col"},{default:(0,i.withCtx)((()=>[((0,i.openBlock)(!0),(0,i.createElementBlock)(i.Fragment,null,(0,i.renderList)(c.recommendList,(e=>((0,i.openBlock)(),(0,i.createBlock)(p,{class:"recommend-list",key:e.id,onClick:t=>s.toPlaylist(e.id,e.picUrl,e.name)},{default:(0,i.withCtx)((()=>[(0,i.createVNode)(d,{width:"100%",height:"3rem",fit:"cover",src:e.picUrl,"lazy-load":""},null,8,["src"]),((0,i.openBlock)(),(0,i.createBlock)(i.KeepAlive,null,[(0,i.createVNode)(m,{id:e.id},null,8,["id"])],1024)),(0,i.createElementVNode)("p",j,(0,i.toDisplayString)(e.name),1)])),_:2},1032,["onClick"])))),128))])),_:1}),(0,i.createElementVNode)("p",M,[(0,i.createVNode)(l,{color:"#8648D3",name:"smile-o",size:"0.48rem"}),(0,i.createTextVNode)(" 最新歌曲 ")]),(0,i.withDirectives)((0,i.createVNode)(u,{class:"van-loading",type:"spinner",vertical:""},{default:(0,i.withCtx)((()=>[(0,i.createTextVNode)("加载中... ")])),_:1},512),[[i.vShow,0===this.newSongList.length]]),((0,i.openBlock)(!0),(0,i.createElementBlock)(i.Fragment,null,(0,i.renderList)(c.newSongList,(e=>((0,i.openBlock)(),(0,i.createBlock)(h,{key:e.id,name:e.name,author:e.song.artists[0].name,id:e.id,"pic-url":e.picUrl},null,8,["name","author","id","pic-url"])))),128))])}var Z={data(){return{recommendList:[],newSongList:[],isPlaying:!1}},name:"home-view",components:{PlaylistViews:A,SongItem:$.Z},created(){this.getRecommendMusic(),this.getNewSong()},methods:{async getRecommendMusic(){const e=await(0,T.jc)({limit:12,realIP:"116.25.146.177"});this.recommendList=e.data.result},async getNewSong(){const e=await(0,T._M)({limit:15,realIP:"116.25.146.177"});this.newSongList=e.data.result.filter((e=>8===e.song.fee||0===e.song.fee&&!e.song.noCopyrightRcmd))},toPlaylist(e,t,n){this.$router.push({path:"/playlist",query:{id:e,picUrl:t,title:n}})}}};const R=(0,p.Z)(Z,[["render",J],["__scopeId","data-v-3b8bf727"]]);var q=R;const{createRouter:G,createWebHashHistory:H}=VueRouter,K=[{path:"/",redirect:"/layout"},{path:"/layout",redirect:"/layout/home",component:x,children:[{path:"home",component:q,meta:{title:"发现音乐",icon:"music-o",showBackArrow:!1}},{path:"search",component:()=>n.e(694).then(n.bind(n,7694)),meta:{title:"寻找音乐",icon:"search",showBackArrow:!0}}]},{path:"/playlist",component:()=>n.e(801).then(n.bind(n,6801))},{path:"/fullscreenplay",component:()=>n.e(61).then(n.bind(n,61))}],Q=G({history:H(),routes:K});var W=Q;const{createStore:X}=Vuex;var Y=X({state:{isPlaying:!1,currentId:localStorage.getItem("curSongId")||0,currentSongInfo:JSON.parse(localStorage.getItem("curSongInfo"))||{},fullScreen:!1,firstCount:1},getters:{songUrl(e){return e.currentId?`https://music.163.com/song/media/outer/url?id=${e.currentId}.mp3`:""}},mutations:{setPlayingState(e,t){e.isPlaying=t},setFullScreen(e,t){e.fullScreen=t},setCurrentId(e,t){e.currentId=t,localStorage.setItem("curSongId",t)},setCurrentSongInfo(e,t){e.currentSongInfo=t,localStorage.setItem("curSongInfo",JSON.stringify(t))},setFirstCount(e,t){e.firstCount=t}},actions:{async getPicUrl(e,t){let{commit:n}=e;const r=await(0,T.kG)({ids:t,realIP:"116.25.146.177"});n("setCurrentSongInfo",{picUrl:`${r.data.songs[0].al.picUrl}?imageView&thumbnail=360y360&quality=75&tostatic=0`,name:r.data.songs[0].name,author:r.data.songs[0].ar[0].name})}}});n(1305);const{createApp:ee}=Vue;ee(S).use(Y).use(W).use(vant.Lazyload).mount("#app")},1305:function(){(function(e,t){var n=t.documentElement,r=e.devicePixelRatio||1;function o(){t.body?t.body.style.fontSize=12*r+"px":t.addEventListener("DOMContentLoaded",o)}function i(){var e=Math.min(n.clientWidth,600)/10;n.style.fontSize=e+"px"}if(o(),i(),e.addEventListener("resize",i),e.addEventListener("pageshow",(function(e){e.persisted&&i()})),r>=2){var a=t.createElement("body"),c=t.createElement("div");c.style.border=".5px solid transparent",a.appendChild(c),n.appendChild(a),1===c.offsetHeight&&n.classList.add("hairlines"),n.removeChild(a)}})(window,document)},4250:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(5342),o=(n(7461),n(3)),i=(n(6171),n(311));const a={key:0},c={class:"song-name-wrap"};function s(e,t,n,s,l,u){const d=o.E,m=r.b;return(0,i.openBlock)(),(0,i.createBlock)(m,{center:"",onClick:u.clickFn},{icon:(0,i.withCtx)((()=>[-1===n.index?((0,i.openBlock)(),(0,i.createElementBlock)("span",a,[(0,i.createVNode)(d,{src:n.picUrl,class:"newsong-img",radius:"0.3rem"},null,8,["src"])])):((0,i.openBlock)(),(0,i.createElementBlock)("span",{key:1,class:"song-index",style:(0,i.normalizeStyle)({color:u.currentId==n.id?"#8648D3":"black"})},(0,i.toDisplayString)(n.index+1),5))])),title:(0,i.withCtx)((()=>[(0,i.createElementVNode)("div",c,[(0,i.createElementVNode)("p",{class:"van-ellipsis song-name",style:(0,i.normalizeStyle)({color:u.currentId==n.id?"#8648D3":"black"})},(0,i.toDisplayString)(n.name),5),(0,i.createElementVNode)("p",{class:"van-ellipsis song-name-label",style:(0,i.normalizeStyle)({color:u.currentId==n.id?"#8648D3":"rgb(147, 145, 145)"})},(0,i.toDisplayString)(n.author),5)])])),_:1},8,["onClick"])}var l={props:{name:String,author:String,id:Number,picUrl:{type:String,default:""},index:{type:Number,default:-1}},computed:{isPlaying(){return this.$store.state.isPlaying},currentId(){return this.$store.state.currentId},firstCount(){return this.$store.state.firstCount}},methods:{clickFn(){""!==this.picUrl?this.$store.commit("setCurrentSongInfo",{picUrl:`${this.picUrl}?imageView&thumbnail=360y360&quality=75&tostatic=0`,name:this.name,author:this.author}):this.$store.dispatch("getPicUrl",this.id),this.$store.commit("setFullScreen",!0),this.$store.commit("setPlayingState",!0),this.firstCount&&(vant.Toast.loading({message:"加载中...",forbidClick:!0,duration:500}),this.$store.commit("setFirstCount",0)),this.$store.commit("setCurrentId",this.id),this.$router.push("/fullscreenplay")}}},u=n(7477);const d=(0,u.Z)(l,[["render",s]]);var m=d},311:function(e){"use strict";e.exports=Vue}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.m=e,function(){var e=[];n.O=function(t,r,o,i){if(!r){var a=1/0;for(u=0;u<e.length;u++){r=e[u][0],o=e[u][1],i=e[u][2];for(var c=!0,s=0;s<r.length;s++)(!1&i||a>=i)&&Object.keys(n.O).every((function(e){return n.O[e](r[s])}))?r.splice(s--,1):(c=!1,i<a&&(a=i));if(c){e.splice(u--,1);var l=o();void 0!==l&&(t=l)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[r,o,i]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+e+"."+{61:"5edf6416",694:"34f12c49",801:"3ed7b92c"}[e]+".js"}}(),function(){n.miniCssF=function(e){return"css/"+e+"."+{61:"8166556f",694:"4e06dea0",801:"ef2119a7"}[e]+".css"}}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="music:";n.l=function(r,o,i,a){if(e[r])e[r].push(o);else{var c,s;if(void 0!==i)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+i){c=d;break}}c||(s=!0,c=document.createElement("script"),c.charset="utf-8",c.timeout=120,n.nc&&c.setAttribute("nonce",n.nc),c.setAttribute("data-webpack",t+i),c.src=r),e[r]=[o];var m=function(t,n){c.onerror=c.onload=null,clearTimeout(p);var o=e[r];if(delete e[r],c.parentNode&&c.parentNode.removeChild(c),o&&o.forEach((function(e){return e(n)})),t)return t(n)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:c}),12e4);c.onerror=m.bind(null,c.onerror),c.onload=m.bind(null,c.onload),s&&document.head.appendChild(c)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/"}(),function(){var e=function(e,t,n,r){var o=document.createElement("link");o.rel="stylesheet",o.type="text/css";var i=function(i){if(o.onerror=o.onload=null,"load"===i.type)n();else{var a=i&&("load"===i.type?"missing":i.type),c=i&&i.target&&i.target.href||t,s=new Error("Loading CSS chunk "+e+" failed.\n("+c+")");s.code="CSS_CHUNK_LOAD_FAILED",s.type=a,s.request=c,o.parentNode.removeChild(o),r(s)}};return o.onerror=o.onload=i,o.href=t,document.head.appendChild(o),o},t=function(e,t){for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var o=n[r],i=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(i===e||i===t))return o}var a=document.getElementsByTagName("style");for(r=0;r<a.length;r++){o=a[r],i=o.getAttribute("data-href");if(i===e||i===t)return o}},r=function(r){return new Promise((function(o,i){var a=n.miniCssF(r),c=n.p+a;if(t(a,c))return o();e(r,c,o,i)}))},o={143:0};n.f.miniCss=function(e,t){var n={61:1,694:1,801:1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=r(e).then((function(){o[e]=0}),(function(t){throw delete o[e],t})))}}(),function(){var e={143:0};n.f.j=function(t,r){var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var i=new Promise((function(n,r){o=e[t]=[n,r]}));r.push(o[2]=i);var a=n.p+n.u(t),c=new Error,s=function(r){if(n.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var i=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;c.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",c.name="ChunkLoadError",c.type=i,c.request=a,o[1](c)}};n.l(a,s,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,i,a=r[0],c=r[1],s=r[2],l=0;if(a.some((function(t){return 0!==e[t]}))){for(o in c)n.o(c,o)&&(n.m[o]=c[o]);if(s)var u=s(n)}for(t&&t(r);l<a.length;l++)i=a[l],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(u)},r=self["webpackChunkmusic"]=self["webpackChunkmusic"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(5200)}));r=n.O(r)})();